import{S as _r,i as Er,s as gr,k as u,q as h,a as w,l as c,m as p,r as b,h as n,c as I,n as i,I as Se,b as V,G as o,J as W,u as Ne,B as gt,K as yr,L as xt,o as wr,M as J,N as St,O as Ir}from"../../chunks/index-a74517cd.js";const L={INVALID:0,SIN:1,ADD:2,SUB:3,MUL:4,DIV:5,POW:6,MOD:7,IF:8,EQ:9,GT:10,LT:11,AND:12,OR:13,VAL:14,VAR_T:15,VAR_I:16,END:17},Ar=L,Dr=r=>r.split("").map((t,e)=>t==="("?{type:"OPEN_PARAN",rawValue:t,index:e}:t===")"?{type:"CLOSE_PARAN",rawValue:t,index:e}:t===" "?{type:"WHITESPACE",rawValue:t,index:e}:t==="+"?{type:"OPERATOR",operator:"ADD",rawValue:t,index:e}:t==="-"?{type:"OPERATOR",operator:"SUB",rawValue:t,index:e}:t==="*"?{type:"OPERATOR",operator:"MUL",rawValue:t,index:e}:t==="/"?{type:"OPERATOR",operator:"DIV",rawValue:t,index:e}:t==="%"?{type:"OPERATOR",operator:"MOD",rawValue:t,index:e}:t==="^"?{type:"OPERATOR",operator:"POW",rawValue:t,index:e}:t===">"?{type:"OPERATOR",operator:"GT",rawValue:t,index:e}:t==="<"?{type:"OPERATOR",operator:"LT",rawValue:t,index:e}:t==="="?{type:"OPERATOR",operator:"EQ",rawValue:t,index:e}:t===","?{type:"OPERATOR",operator:"SEP",rawValue:t,index:e}:t==="&"?{type:"OPERATOR",operator:"AND",rawValue:t,index:e}:t==="|"?{type:"OPERATOR",operator:"OR",rawValue:t,index:e}:{type:"LITERAL",value:t,rawValue:t,index:e}),pr=[["SEP"],["AND","OR"],["GT","LT","EQ"],["MOD"],["ADD","SUB"],["DIV","MUL"]];class Ke extends Error{constructor(t,e){super(t),this.index=e}}const ut=(r,t)=>{if(r.length===0)throw new Ke("Expected an expression",t);for(let s=0;s<pr.length;s++){const v=pr[s];let m=0;for(let _=0;_<r.length;_++){const d=r[_];if(d.type==="OPEN_PARAN"&&(m+=1),d.type==="CLOSE_PARAN"&&(m-=1),d.type==="OPERATOR"&&m==0&&v.includes(d.operator))return{type:"operator",op:d.operator,a:ut(r.slice(0,_),r[0].index+1),b:ut(r.slice(_+1),d.index+1),index:d.index}}}let e="",l=-1;for(let s=0;s<r.length;s++){const v=r[s];if(v.type==="LITERAL"&&(e+=v.value,l===-1&&(l=v.index)),v.type==="OPEN_PARAN"){if(r.slice(-1)[0].type!=="CLOSE_PARAN")throw new Ke("Unmatched opening parenthesis",v.index);if(e){const m=ut(r.slice(s+1,-1),v.index),_=[],d=g=>{g.type==="operator"&&g.op==="SEP"?(d(g.a),d(g.b)):_.push(g)};return d(m),{type:"call",name:e,args:_,index:l}}else return ut(r.slice(s+1,-1),v.index)}}const a=r.find(s=>s.type!=="LITERAL");if(a)throw new Ke(`Unexpected token: ${a.rawValue}`,a.index);return e=r.map(s=>s.value).join(""),isNaN(parseInt(e,10))?{type:"variable",name:e,index:r[0].index}:{type:"value",val:parseInt(e,10),index:r[0].index}},Ye=r=>{if(r.type==="call"){if(r.name==="if")return[...Ye(r.args[0]),...Ye(r.args[1]),...Ye(r.args[2]),L.IF];if(r.name==="sin")return[...Ye(r.args[0]),L.SIN];throw new Ke(`Invalid function: ${r.name}`,r.index)}else if(r.type==="operator"){const t=Ar[r.op];if(t===void 0)throw new Ke(`Invalid operator: ${r.op}`,r.index);return[...Ye(r.a),...Ye(r.b),t]}else{if(r.type==="value")return[L.VAL,r.val];if(r.type==="variable"){if(r.name==="i")return[L.VAR_I];if(r.name==="t")return[L.VAR_T];throw new Ke(`Unknown variable: ${r.name}`,r.index)}else throw new Error("INVALID TYPE")}},Tr=r=>{try{const t=Dr(r),e=ut(t.filter(a=>a.type!=="WHITESPACE"),0);return{compiled:Ye(e)}}catch(t){if(t instanceof Ke)return{error:`Error: ${t.message}
    ${r}
    ${" ".repeat(t.index)}^`,errorRaw:t};throw t}},Ut=100;let mr=0;const kr=[128,131,134,137,140,143,146,149,152,156,159,162,165,168,171,174,176,179,182,185,188,191,193,196,199,201,204,206,209,211,213,216,218,220,222,224,226,228,230,232,234,235,237,239,240,242,243,244,246,247,248,249,250,251,251,252,253,253,254,254,254,255,255,255,255,255,255,255,254,254,253,253,252,252,251,250,249,248,247,246,245,244,242,241,239,238,236,235,233,231,229,227,225,223,221,219,217,215,212,210,207,205,202,200,197,195,192,189,186,184,181,178,175,172,169,166,163,160,157,154,151,148,145,142,138,135,132,129,126,123,120,117,113,110,107,104,101,98,95,92,89,86,83,80,77,74,71,69,66,63,60,58,55,53,50,48,45,43,40,38,36,34,32,30,28,26,24,22,20,19,17,16,14,13,11,10,9,8,7,6,5,4,3,3,2,2,1,1,0,0,0,0,0,0,0,1,1,1,2,2,3,4,4,5,6,7,8,9,11,12,13,15,16,18,20,21,23,25,27,29,31,33,35,37,39,42,44,46,49,51,54,56,59,62,64,67,70,73,76,79,81,84,87,90,93,96,99,103,106,109,112,115,118,121,124],qt=(r,t)=>{if(r.find(a=>Math.floor(a)!==a))throw new Error("Program contains non int");const e=[];let l=-1;for(let a=0;a<r.length;a++){switch(r[a]){case L.SIN:e[l]=kr[e[l]%256];break;case L.ADD:if(l--,l<0)return 1;e[l]=e[l]+e[l+1];break;case L.SUB:if(l--,l<0)return 1;e[l]=e[l]-e[l+1];break;case L.MUL:if(l--,l<0)return 1;e[l]=e[l]*e[l+1];break;case L.DIV:if(l--,l<0)return 1;e[l]=Math.floor(e[l]/e[l+1]);break;case L.POW:if(l--,l<0)return 1;e[l]=Math.pow(e[l],e[l+1]);break;case L.MOD:if(l--,l<0)return 1;e[l]=e[l]%e[l+1];break;case L.IF:if(l-=2,l<0)return 1;e[l]=e[l]?e[l+1]:e[l+2];break;case L.EQ:if(l--,l<0)return 1;e[l]=+(e[l]==e[l+1]);break;case L.GT:if(l--,l<0)return 1;e[l]=+(e[l]>e[l+1]);break;case L.LT:if(l--,l<0)return 1;e[l]=+(e[l]<e[l+1]);break;case L.AND:if(l--,l<0)return 1;e[l]=e[l]&e[l+1];break;case L.OR:if(l--,l<0)return 1;e[l]=e[l]|e[l+1];break;case L.VAL:if(l++,l>=Ut)return 1;e[l]=r[a+1],a++;break;case L.VAR_T:if(l++,l>=Ut)return 1;e[l]=mr;break;case L.VAR_I:if(l++,l>=Ut)return 1;e[l]=t;break;case L.END:return e[0]}for(;e[l]<0;)e[l]+=2**32;for(;e[l]>=2**32;)e[l]-=2**32}return e[0]},Or=238,Pr=(r,t,e,l,a)=>{mr++;const s=[...new Array(Or)].map(m=>({h:0,s:0,v:0}));for(let m=0;m<s.length;m++)s[m].h=qt(e,m)%256,s[m].s=qt(l,m)%256,s[m].v=qt(a,m)%256;s.reverse();const v=r.width/s.length;r.height=v,t.clearRect(0,0,r.width,r.height);for(let m=0;m<s.length;m++)t.fillStyle=`hsl(${s[m].h/256*360}, ${s[m].s/256*100}%, ${s[m].v/256*100}%)`,t.fillRect(m*v,0,v,v);return v};function hr(r,t,e){const l=r.slice();return l[32]=t[e],l[34]=e,l}function br(r){let t,e=r[32].name+"",l,a,s,v;function m(){return r[11](r[32])}return{c(){t=u("button"),l=h(e),this.h()},l(_){t=c(_,"BUTTON",{class:!0});var d=p(t);l=b(d,e),d.forEach(n),this.h()},h(){i(t,"class",a="border-gray-800 p-2 mx-2 border-solid border-b "+(r[32]===r[3]?"":"hover:bg-gray-200")+" active:bg-gray-300"),Se(t,"bg-gray-300",r[32]===r[3]),Se(t,"border-t",r[34]===0)},m(_,d){V(_,t,d),o(t,l),s||(v=W(t,"click",m),s=!0)},p(_,d){r=_,d[0]&1&&e!==(e=r[32].name+"")&&Ne(l,e),d[0]&9&&a!==(a="border-gray-800 p-2 mx-2 border-solid border-b "+(r[32]===r[3]?"":"hover:bg-gray-200")+" active:bg-gray-300")&&i(t,"class",a),d[0]&9&&Se(t,"bg-gray-300",r[32]===r[3]),d[0]&9&&Se(t,"border-t",r[34]===0)},d(_){_&&n(t),s=!1,v()}}}function vr(r){let t,e,l,a,s,v,m,_,d,g,x,$,T,y,B,A,Z=r[3].h.value+"",ee,me,te,ue=r[3].h.error+"",be,re,le,Y,_e,N,Ee,K,ge,ce=r[3].s.value+"",z,ye,oe,E=r[3].s.error+"",S,j,D,ae,ne,R,X,U,M=r[3].v.error+"",Te,we,fe,Ue,de=r[3].v.value+"",ke,qe,Oe;function Ze(O,k){return O[6]?Lr:Vr}let Pe=Ze(r),G=Pe(r);return{c(){t=u("div"),e=u("button"),l=h("Back"),a=w(),s=u("div"),G.c(),v=w(),m=u("input"),_=w(),d=u("div"),g=u("div"),x=u("label"),$=h("h = "),T=u("input"),y=w(),B=u("pre"),A=h("    "),ee=h(Z),me=w(),te=u("pre"),be=h(ue),re=w(),le=u("div"),Y=u("label"),_e=h("s = "),N=u("input"),Ee=w(),K=u("pre"),ge=h("    "),z=h(ce),ye=w(),oe=u("pre"),S=h(E),j=w(),D=u("div"),ae=u("label"),ne=h("v = "),R=u("input"),X=w(),U=u("pre"),Te=h(M),we=w(),fe=u("pre"),Ue=h("    "),ke=h(de),this.h()},l(O){t=c(O,"DIV",{class:!0});var k=p(t);e=c(k,"BUTTON",{class:!0});var Xe=p(e);l=b(Xe,"Back"),Xe.forEach(n),a=I(k),s=c(k,"DIV",{class:!0});var Ve=p(s);G.l(Ve),Ve.forEach(n),k.forEach(n),v=I(O),m=c(O,"INPUT",{type:!0,class:!0}),_=I(O),d=c(O,"DIV",{class:!0});var C=p(d);g=c(C,"DIV",{class:!0});var xe=p(g);x=c(xe,"LABEL",{for:!0});var se=p(x);$=b(se,"h = "),se.forEach(n),T=c(xe,"INPUT",{name:!0,class:!0,type:!0,autocomplete:!0,autocorrect:!0,autocapitalize:!0,spellcheck:!0}),xe.forEach(n),y=I(C),B=c(C,"PRE",{class:!0});var Be=p(B);A=b(Be,"    "),ee=b(Be,Z),Be.forEach(n),me=I(C),te=c(C,"PRE",{});var Le=p(te);be=b(Le,ue),Le.forEach(n),re=I(C),le=c(C,"DIV",{class:!0});var Me=p(le);Y=c(Me,"LABEL",{for:!0});var $e=p(Y);_e=b($e,"s = "),$e.forEach(n),N=c(Me,"INPUT",{name:!0,class:!0,type:!0,autocomplete:!0,autocorrect:!0,autocapitalize:!0,spellcheck:!0}),Me.forEach(n),Ee=I(C),K=c(C,"PRE",{class:!0});var Ie=p(K);ge=b(Ie,"    "),z=b(Ie,ce),Ie.forEach(n),ye=I(C),oe=c(C,"PRE",{});var et=p(oe);S=b(et,E),et.forEach(n),j=I(C),D=c(C,"DIV",{class:!0});var He=p(D);ae=c(He,"LABEL",{for:!0});var tt=p(ae);ne=b(tt,"v = "),tt.forEach(n),R=c(He,"INPUT",{name:!0,class:!0,type:!0,autocomplete:!0,autocorrect:!0,autocapitalize:!0,spellcheck:!0}),He.forEach(n),X=I(C),U=c(C,"PRE",{});var Re=p(U);Te=b(Re,M),Re.forEach(n),we=I(C),fe=c(C,"PRE",{class:!0});var We=p(fe);Ue=b(We,"    "),ke=b(We,de),We.forEach(n),C.forEach(n),this.h()},h(){i(e,"class","text-base md:hidden rounded border-gray-800 border-solid border py-1 px-3 mb-4 hover:bg-gray-200 active:bg-gray-300"),i(s,"class","flex md:flex-row-reverse"),i(t,"class","flex justify-between"),i(m,"type","text"),i(m,"class","focus:outline-none text-2xl w-full py-3"),i(x,"for","h"),i(T,"name","h"),i(T,"class","pl-4 font-mono focus:outline-none w-full"),i(T,"type","text"),i(T,"autocomplete","off"),i(T,"autocorrect","off"),i(T,"autocapitalize","off"),i(T,"spellcheck","false"),i(g,"class","flex whitespace-nowrap py-2"),i(B,"class","h-0 invisible"),i(Y,"for","s"),i(N,"name","s"),i(N,"class","pl-4 font-mono focus:outline-none w-full"),i(N,"type","text"),i(N,"autocomplete","off"),i(N,"autocorrect","off"),i(N,"autocapitalize","off"),i(N,"spellcheck","false"),i(le,"class","flex whitespace-nowrap py-2"),i(K,"class","h-0 invisible"),i(ae,"for","v"),i(R,"name","v"),i(R,"class","pl-4 font-mono focus:outline-none w-full"),i(R,"type","text"),i(R,"autocomplete","off"),i(R,"autocorrect","off"),i(R,"autocapitalize","off"),i(R,"spellcheck","false"),i(D,"class","flex whitespace-nowrap py-2"),i(fe,"class","h-0 invisible"),i(d,"class","pl-10")},m(O,k){V(O,t,k),o(t,e),o(e,l),o(t,a),o(t,s),G.m(s,null),V(O,v,k),V(O,m,k),J(m,r[3].name),V(O,_,k),V(O,d,k),o(d,g),o(g,x),o(x,$),o(g,T),J(T,r[3].h.value),o(d,y),o(d,B),o(B,A),o(B,ee),o(d,me),o(d,te),o(te,be),o(d,re),o(d,le),o(le,Y),o(Y,_e),o(le,N),J(N,r[3].s.value),o(d,Ee),o(d,K),o(K,ge),o(K,z),o(d,ye),o(d,oe),o(oe,S),o(d,j),o(d,D),o(D,ae),o(ae,ne),o(D,R),J(R,r[3].v.value),o(d,X),o(d,U),o(U,Te),o(d,we),o(d,fe),o(fe,Ue),o(fe,ke),qe||(Oe=[W(e,"click",r[12]),W(m,"input",r[16]),W(T,"input",r[17]),W(T,"input",function(){St(r[3].h.onChange)&&r[3].h.onChange.apply(this,arguments)}),W(N,"input",r[18]),W(N,"input",function(){St(r[3].s.onChange)&&r[3].s.onChange.apply(this,arguments)}),W(R,"input",r[19]),W(R,"input",function(){St(r[3].v.onChange)&&r[3].v.onChange.apply(this,arguments)})],qe=!0)},p(O,k){r=O,Pe===(Pe=Ze(r))&&G?G.p(r,k):(G.d(1),G=Pe(r),G&&(G.c(),G.m(s,null))),k[0]&8&&m.value!==r[3].name&&J(m,r[3].name),k[0]&8&&T.value!==r[3].h.value&&J(T,r[3].h.value),k[0]&8&&Z!==(Z=r[3].h.value+"")&&Ne(ee,Z),k[0]&8&&ue!==(ue=r[3].h.error+"")&&Ne(be,ue),k[0]&8&&N.value!==r[3].s.value&&J(N,r[3].s.value),k[0]&8&&ce!==(ce=r[3].s.value+"")&&Ne(z,ce),k[0]&8&&E!==(E=r[3].s.error+"")&&Ne(S,E),k[0]&8&&R.value!==r[3].v.value&&J(R,r[3].v.value),k[0]&8&&M!==(M=r[3].v.error+"")&&Ne(Te,M),k[0]&8&&de!==(de=r[3].v.value+"")&&Ne(ke,de)},d(O){O&&n(t),G.d(),O&&n(v),O&&n(m),O&&n(_),O&&n(d),qe=!1,xt(Oe)}}}function Vr(r){let t,e,l,a;return{c(){t=u("button"),e=h("Delete"),this.h()},l(s){t=c(s,"BUTTON",{class:!0});var v=p(t);e=b(v,"Delete"),v.forEach(n),this.h()},h(){i(t,"class","text-base rounded border-gray-800 border-solid border py-1 px-3 mb-4 hover:bg-gray-200 active:bg-gray-300")},m(s,v){V(s,t,v),o(t,e),l||(a=W(t,"click",r[15]),l=!0)},p:gt,d(s){s&&n(t),l=!1,a()}}}function Lr(r){let t,e,l,a,s,v,m;return{c(){t=u("button"),e=h("Confirm Delete"),l=w(),a=u("button"),s=h("Cancel Delete"),this.h()},l(_){t=c(_,"BUTTON",{class:!0});var d=p(t);e=b(d,"Confirm Delete"),d.forEach(n),l=I(_),a=c(_,"BUTTON",{class:!0});var g=p(a);s=b(g,"Cancel Delete"),g.forEach(n),this.h()},h(){i(t,"class","text-base rounded border-green-800 text-green-800 border-solid border py-1 px-3 mb-4 mx-2 hover:bg-gray-200 active:bg-gray-300"),i(a,"class","text-base rounded border-red-800 text-red-800 border-solid border py-1 px-3 mb-4 mx-2 hover:bg-gray-200 active:bg-gray-300")},m(_,d){V(_,t,d),o(t,e),V(_,l,d),V(_,a,d),o(a,s),v||(m=[W(t,"click",r[13]),W(a,"click",r[14])],v=!0)},p:gt,d(_){_&&n(t),_&&n(l),_&&n(a),v=!1,xt(m)}}}function Rr(r){let t,e,l;return{c(){t=u("input"),this.h()},l(a){t=c(a,"INPUT",{class:!0,name:!0,type:!0}),this.h()},h(){i(t,"class","ml-4 border border-gray-800 border-solid rounded px-1"),i(t,"name","p1"),i(t,"type","password")},m(a,s){V(a,t,s),J(t,r[1]),e||(l=W(t,"input",r[22]),e=!0)},p(a,s){s[0]&2&&t.value!==a[1]&&J(t,a[1])},d(a){a&&n(t),e=!1,l()}}}function Cr(r){let t,e,l;return{c(){t=u("input"),this.h()},l(a){t=c(a,"INPUT",{class:!0,name:!0,type:!0}),this.h()},h(){i(t,"class","ml-4 border border-gray-800 border-solid rounded px-1"),i(t,"name","p1"),i(t,"type","text")},m(a,s){V(a,t,s),J(t,r[1]),e||(l=W(t,"input",r[21]),e=!0)},p(a,s){s[0]&2&&t.value!==a[1]&&J(t,a[1])},d(a){a&&n(t),e=!1,l()}}}function Nr(r){let t,e,l;return{c(){t=u("input"),this.h()},l(a){t=c(a,"INPUT",{class:!0,name:!0,type:!0}),this.h()},h(){i(t,"class","ml-4 border border-gray-800 border-solid rounded px-1"),i(t,"name","p2"),i(t,"type","password")},m(a,s){V(a,t,s),J(t,r[2]),e||(l=W(t,"input",r[24]),e=!0)},p(a,s){s[0]&4&&t.value!==a[2]&&J(t,a[2])},d(a){a&&n(t),e=!1,l()}}}function Sr(r){let t,e,l;return{c(){t=u("input"),this.h()},l(a){t=c(a,"INPUT",{class:!0,name:!0,type:!0}),this.h()},h(){i(t,"class","ml-4 border border-gray-800 border-solid rounded px-1"),i(t,"name","p2"),i(t,"type","text")},m(a,s){V(a,t,s),J(t,r[2]),e||(l=W(t,"input",r[23]),e=!0)},p(a,s){s[0]&4&&t.value!==a[2]&&J(t,a[2])},d(a){a&&n(t),e=!1,l()}}}function Ur(r){let t,e,l,a,s,v,m,_,d,g,x,$,T,y,B,A,Z,ee,me,te,ue,be,re,le,Y,_e,N,Ee,K,ge,ce,z,ye,oe,E,S,j,D,ae,ne,R,X,U,M,Te,we,fe,Ue,de,ke,qe,Oe,Ze,Pe,G,O,k,Xe,Ve,C,xe,se,Be,Le,Me,$e,Ie,et,He,tt,Re,We,yt,ze,wt,rt,It,At,ct,ie,Dt,Ae,lt,Tt,kt,Ot,De,ot,Pt,Vt,Lt,st,je,it=r[4]?"Hide":"Show",ft,dt,Ge,Fe,Rt,Ct,Bt,at=r[0],F=[];for(let f=0;f<at.length;f+=1)F[f]=br(hr(r,at,f));let Q=r[3]&&vr(r);function Mt(f,P){return f[4]?Cr:Rr}let pt=Mt(r),pe=pt(r);function Ht(f,P){return f[4]?Sr:Nr}let ht=Ht(r),he=ht(r);return{c(){t=u("header"),e=u("h1"),l=h("LEDS"),a=w(),s=u("div"),v=u("div");for(let f=0;f<F.length;f+=1)F[f].c();m=w(),_=u("button"),d=h("Add equation"),g=w(),x=u("div"),Q&&Q.c(),$=w(),T=u("div"),y=u("canvas"),B=w(),A=u("div"),Z=u("h1"),ee=h("Usage"),me=w(),te=u("p"),ue=h('Add sets of equations using the "Add Equation" button.'),be=w(),re=u("p"),le=h(`Each set of equations contains an "h" equation, an "s" equation, and a "v" equation. Each
		equation corresponds to each part of the `),Y=u("a"),_e=h("HSV color"),N=h(" of the LED."),Ee=w(),K=u("p"),ge=h(`Each equation is run every frame for every LED on the led strip, which allows you to create a
		LED pattern by using the equations.`),ce=w(),z=u("p"),ye=h("The equations look like normal math equations, for example, setting "),oe=u("code"),E=h("h = i + t"),S=h(` and
		`),j=u("code"),D=h("s = 255"),ae=h(`
		and `),ne=u("code"),R=h("v = 90"),X=h(" will create a rainbow pattern across the led strip."),U=w(),M=u("p"),Te=h(`All numbers are integers and the values sent to the LEDs are mod 256 of the result of the
		equations. You can access two variables: `),we=u("code"),fe=h("i"),Ue=h(" and "),de=u("code"),ke=h("t"),qe=h(". "),Oe=u("code"),Ze=h("i"),Pe=h(` is
		the index of the LED and `),G=u("code"),O=h("t"),k=h(" is the current frame, which increments by 1 every frame."),Xe=w(),Ve=u("p"),C=h(`I attempted to have expressions evaluated according to the order of operations, but I don't
		think I got it quite working, so I recommend using parenthesis if something doesn't seem right.`),xe=w(),se=u("p"),Be=h("There are two functions that you can use. The first one is "),Le=u("code"),Me=h(`if([expr], [if not 0], [if 0])
		`),$e=h(", which should be self-explanatory. The other one is "),Ie=u("code"),et=h("sin([value])"),He=h(`, which
		computes the sin of a value, but a full cycle is 0-255 instead of 0-2pi.`),tt=w(),Re=u("p"),We=h(`The video is a live stream of my LED lights running whatever equations are written here. If too
		many people use this, it could get crazy. When you type in an equation, it is automatically sent
		to the LED strip.`),yt=w(),ze=u("p"),wt=h(`This was a random project that I wanted to try. I'll probably set a password on it at some
		point, but I thought I'd let the whole world try it out first. It probably has a lot of bugs and
		I'm not planning to fix them all. I also wrote a `),rt=u("a"),It=h("blog post"),At=h(" explaining how everything works."),ct=w(),ie=u("div"),Dt=h(`LEDs Password
	`),Ae=u("div"),lt=u("label"),Tt=h("Part 1"),kt=w(),pe.c(),Ot=w(),De=u("div"),ot=u("label"),Pt=h("Part 2"),Vt=w(),he.c(),Lt=w(),st=u("div"),je=u("button"),ft=h(it),dt=w(),Ge=u("div"),Fe=u("button"),Rt=h("Reload Page"),this.h()},l(f){t=c(f,"HEADER",{class:!0});var P=p(t);e=c(P,"H1",{class:!0});var H=p(e);l=b(H,"LEDS"),H.forEach(n),P.forEach(n),a=I(f),s=c(f,"DIV",{class:!0});var Qe=p(s);v=c(Qe,"DIV",{class:!0});var bt=p(v);for(let Nt=0;Nt<F.length;Nt+=1)F[Nt].l(bt);m=I(bt),_=c(bt,"BUTTON",{class:!0});var Wt=p(_);d=b(Wt,"Add equation"),Wt.forEach(n),bt.forEach(n),g=I(Qe),x=c(Qe,"DIV",{class:!0});var zt=p(x);Q&&Q.l(zt),zt.forEach(n),Qe.forEach(n),$=I(f),T=c(f,"DIV",{class:!0});var jt=p(T);y=c(jt,"CANVAS",{id:!0,class:!0,height:!0}),p(y).forEach(n),jt.forEach(n),B=I(f),A=c(f,"DIV",{class:!0});var q=p(A);Z=c(q,"H1",{});var Gt=p(Z);ee=b(Gt,"Usage"),Gt.forEach(n),me=I(q),te=c(q,"P",{});var Ft=p(te);ue=b(Ft,'Add sets of equations using the "Add Equation" button.'),Ft.forEach(n),be=I(q),re=c(q,"P",{});var vt=p(re);le=b(vt,`Each set of equations contains an "h" equation, an "s" equation, and a "v" equation. Each
		equation corresponds to each part of the `),Y=c(vt,"A",{href:!0});var Qt=p(Y);_e=b(Qt,"HSV color"),Qt.forEach(n),N=b(vt," of the LED."),vt.forEach(n),Ee=I(q),K=c(q,"P",{});var Jt=p(K);ge=b(Jt,`Each equation is run every frame for every LED on the led strip, which allows you to create a
		LED pattern by using the equations.`),Jt.forEach(n),ce=I(q),z=c(q,"P",{});var Ce=p(z);ye=b(Ce,"The equations look like normal math equations, for example, setting "),oe=c(Ce,"CODE",{});var Yt=p(oe);E=b(Yt,"h = i + t"),Yt.forEach(n),S=b(Ce,` and
		`),j=c(Ce,"CODE",{});var Kt=p(j);D=b(Kt,"s = 255"),Kt.forEach(n),ae=b(Ce,`
		and `),ne=c(Ce,"CODE",{});var Zt=p(ne);R=b(Zt,"v = 90"),Zt.forEach(n),X=b(Ce," will create a rainbow pattern across the led strip."),Ce.forEach(n),U=I(q),M=c(q,"P",{});var ve=p(M);Te=b(ve,`All numbers are integers and the values sent to the LEDs are mod 256 of the result of the
		equations. You can access two variables: `),we=c(ve,"CODE",{});var Xt=p(we);fe=b(Xt,"i"),Xt.forEach(n),Ue=b(ve," and "),de=c(ve,"CODE",{});var $t=p(de);ke=b($t,"t"),$t.forEach(n),qe=b(ve,". "),Oe=c(ve,"CODE",{});var er=p(Oe);Ze=b(er,"i"),er.forEach(n),Pe=b(ve,` is
		the index of the LED and `),G=c(ve,"CODE",{});var tr=p(G);O=b(tr,"t"),tr.forEach(n),k=b(ve," is the current frame, which increments by 1 every frame."),ve.forEach(n),Xe=I(q),Ve=c(q,"P",{});var rr=p(Ve);C=b(rr,`I attempted to have expressions evaluated according to the order of operations, but I don't
		think I got it quite working, so I recommend using parenthesis if something doesn't seem right.`),rr.forEach(n),xe=I(q),se=c(q,"P",{});var nt=p(se);Be=b(nt,"There are two functions that you can use. The first one is "),Le=c(nt,"CODE",{});var lr=p(Le);Me=b(lr,`if([expr], [if not 0], [if 0])
		`),lr.forEach(n),$e=b(nt,", which should be self-explanatory. The other one is "),Ie=c(nt,"CODE",{});var or=p(Ie);et=b(or,"sin([value])"),or.forEach(n),He=b(nt,`, which
		computes the sin of a value, but a full cycle is 0-255 instead of 0-2pi.`),nt.forEach(n),tt=I(q),Re=c(q,"P",{});var ar=p(Re);We=b(ar,`The video is a live stream of my LED lights running whatever equations are written here. If too
		many people use this, it could get crazy. When you type in an equation, it is automatically sent
		to the LED strip.`),ar.forEach(n),yt=I(q),ze=c(q,"P",{});var mt=p(ze);wt=b(mt,`This was a random project that I wanted to try. I'll probably set a password on it at some
		point, but I thought I'd let the whole world try it out first. It probably has a lot of bugs and
		I'm not planning to fix them all. I also wrote a `),rt=c(mt,"A",{href:!0});var nr=p(rt);It=b(nr,"blog post"),nr.forEach(n),At=b(mt," explaining how everything works."),mt.forEach(n),q.forEach(n),ct=I(f),ie=c(f,"DIV",{class:!0});var Je=p(ie);Dt=b(Je,`LEDs Password
	`),Ae=c(Je,"DIV",{class:!0});var _t=p(Ae);lt=c(_t,"LABEL",{for:!0});var sr=p(lt);Tt=b(sr,"Part 1"),sr.forEach(n),kt=I(_t),pe.l(_t),_t.forEach(n),Ot=I(Je),De=c(Je,"DIV",{class:!0});var Et=p(De);ot=c(Et,"LABEL",{for:!0});var ir=p(ot);Pt=b(ir,"Part 2"),ir.forEach(n),Vt=I(Et),he.l(Et),Et.forEach(n),Lt=I(Je),st=c(Je,"DIV",{});var ur=p(st);je=c(ur,"BUTTON",{class:!0});var cr=p(je);ft=b(cr,it),cr.forEach(n),ur.forEach(n),Je.forEach(n),dt=I(f),Ge=c(f,"DIV",{class:!0});var fr=p(Ge);Fe=c(fr,"BUTTON",{class:!0});var dr=p(Fe);Rt=b(dr,"Reload Page"),dr.forEach(n),fr.forEach(n),this.h()},h(){i(e,"class","text-5xl "),i(t,"class","pb-10 p-5"),i(_,"class","mt-14 rounded border-gray-800 border-solid border py-4 hover:bg-gray-200 active:bg-gray-300"),i(v,"class","md:flex flex-col flex-shrink-0 text-2xl w-full md:w-[300px] md:border-r border-gray-800 border-solid pr-4"),Se(v,"hidden",r[3]),Se(v,"flex",!r[3]),i(x,"class","pl-5 flex-grow"),i(s,"class","p-4 font-sans flex"),i(y,"id","simulation"),i(y,"class","w-full"),i(y,"height","0"),i(T,"class","mt-16"),i(Y,"href","https://en.wikipedia.org/wiki/HSL_and_HSV"),i(rt,"href","https://anb.codes/2022/led-equations"),i(A,"class","p-4 mt-16 prose"),i(lt,"for","p1"),i(Ae,"class","m-3"),i(ot,"for","p2"),i(De,"class","m-3"),i(je,"class","text-1xl mt-20 rounded border-gray-800 border-solid border w-36 py-2 hover:bg-gray-200 active:bg-gray-300"),i(ie,"class","p-4 mt-16"),i(Fe,"class","text-1xl mt-20 rounded border-gray-800 border-solid border w-36 py-2 hover:bg-gray-200 active:bg-gray-300"),i(Ge,"class","p-4 flex flex-col")},m(f,P){V(f,t,P),o(t,e),o(e,l),V(f,a,P),V(f,s,P),o(s,v);for(let H=0;H<F.length;H+=1)F[H].m(v,null);o(v,m),o(v,_),o(_,d),o(s,g),o(s,x),Q&&Q.m(x,null),V(f,$,P),V(f,T,P),o(T,y),r[20](y),V(f,B,P),V(f,A,P),o(A,Z),o(Z,ee),o(A,me),o(A,te),o(te,ue),o(A,be),o(A,re),o(re,le),o(re,Y),o(Y,_e),o(re,N),o(A,Ee),o(A,K),o(K,ge),o(A,ce),o(A,z),o(z,ye),o(z,oe),o(oe,E),o(z,S),o(z,j),o(j,D),o(z,ae),o(z,ne),o(ne,R),o(z,X),o(A,U),o(A,M),o(M,Te),o(M,we),o(we,fe),o(M,Ue),o(M,de),o(de,ke),o(M,qe),o(M,Oe),o(Oe,Ze),o(M,Pe),o(M,G),o(G,O),o(M,k),o(A,Xe),o(A,Ve),o(Ve,C),o(A,xe),o(A,se),o(se,Be),o(se,Le),o(Le,Me),o(se,$e),o(se,Ie),o(Ie,et),o(se,He),o(A,tt),o(A,Re),o(Re,We),o(A,yt),o(A,ze),o(ze,wt),o(ze,rt),o(rt,It),o(ze,At),V(f,ct,P),V(f,ie,P),o(ie,Dt),o(ie,Ae),o(Ae,lt),o(lt,Tt),o(Ae,kt),pe.m(Ae,null),o(ie,Ot),o(ie,De),o(De,ot),o(ot,Pt),o(De,Vt),he.m(De,null),o(ie,Lt),o(ie,st),o(st,je),o(je,ft),V(f,dt,P),V(f,Ge,P),o(Ge,Fe),o(Fe,Rt),Ct||(Bt=[W(_,"click",r[8]),W(je,"click",r[25]),W(Fe,"click",r[26])],Ct=!0)},p(f,P){if(P[0]&137){at=f[0];let H;for(H=0;H<at.length;H+=1){const Qe=hr(f,at,H);F[H]?F[H].p(Qe,P):(F[H]=br(Qe),F[H].c(),F[H].m(v,m))}for(;H<F.length;H+=1)F[H].d(1);F.length=at.length}P[0]&8&&Se(v,"hidden",f[3]),P[0]&8&&Se(v,"flex",!f[3]),f[3]?Q?Q.p(f,P):(Q=vr(f),Q.c(),Q.m(x,null)):Q&&(Q.d(1),Q=null),pt===(pt=Mt(f))&&pe?pe.p(f,P):(pe.d(1),pe=pt(f),pe&&(pe.c(),pe.m(Ae,null))),ht===(ht=Ht(f))&&he?he.p(f,P):(he.d(1),he=ht(f),he&&(he.c(),he.m(De,null))),P[0]&16&&it!==(it=f[4]?"Hide":"Show")&&Ne(ft,it)},i:gt,o:gt,d(f){f&&n(t),f&&n(a),f&&n(s),yr(F,f),Q&&Q.d(),f&&n($),f&&n(T),r[20](null),f&&n(B),f&&n(A),f&&n(ct),f&&n(ie),pe.d(),he.d(),f&&n(dt),f&&n(Ge),Ct=!1,xt(Bt)}}}function qr(r,t,e){let l=[],a="",s="",v=!1,m=l[0],_=!1,d=!1,g;wr(()=>{var S,j;g&&e(5,g.width=g.clientWidth,g),addEventListener("resize",()=>{g&&e(5,g.width=g.clientWidth,g)}),e(1,a=(S=localStorage.getItem("password_p1"))!=null?S:"0"),e(2,s=(j=localStorage.getItem("password_p2"))!=null?j:"0"),e(0,l=JSON.parse(localStorage.getItem("equations")||"[]")),l.forEach(D=>{D.h.onChange=B(D.h,D),D.s.onChange=B(D.s,D),D.v.onChange=B(D.v,D),D.h.onChange(),D.s.onChange(),D.v.onChange()}),d=!0,e(10,_=!0);const E=g.getContext("2d");if(!E)throw new Error("No canvas context!");setInterval(()=>{m&&g&&Pr(g,E,m.h.compiledValue,m.s.compiledValue,m.v.compiledValue)},1e3/40),setTimeout(()=>{document.querySelectorAll("input").forEach(D=>{D.style.width=Math.max(D.value.length+5,10)+"ch"})})});let x=!1,$;const T=(E,S=!0)=>{if(!d||E.h.error||E.s.error||E.v.error||!a||!s)return;x&&($&&clearInterval($),$=setInterval(()=>{x||(T(E,S),clearInterval($))},1)),m=E;const j=new Uint32Array([+a,+s]),D=new Uint32Array(E.h.compiledValue),ae=new Uint32Array(E.s.compiledValue),ne=new Uint32Array(E.v.compiledValue),R=new Uint32Array([+S]),X=new Uint32Array([L.END,0]),U=new WebSocket("wss://home.anb.codes:13655");x=!0,U.addEventListener("open",()=>{console.log("Sending..."),U.send(j.buffer),U.send(R.buffer),console.log(R),U.send(D.buffer),console.log(D),U.send(X.buffer),console.log(X),U.send(ae.buffer),console.log(ae),U.send(X.buffer),console.log(X),U.send(ne.buffer),console.log(ne),U.send(X.buffer),console.log(X)}),U.addEventListener("close",()=>{x=!1,console.log("closed")})};let y;const B=(E,S)=>()=>{const j=Tr(E.value);j.error?E.error=j.error:(E.error="",E.compiledValue=j.compiled),T(S),e(0,l),e(3,y)},A=()=>{const E={h:{value:"",compiledValue:[],onChange:()=>{},error:""},s:{value:"",compiledValue:[],onChange:()=>{},error:""},v:{value:"",compiledValue:[],onChange:()=>{},error:""},name:"New Equation",open:!0};E.h.onChange=B(E.h,E),E.s.onChange=B(E.s,E),E.v.onChange=B(E.v,E),E.h.onChange(),E.s.onChange(),E.v.onChange(),l.forEach(S=>S.open=!1),l.push(E),e(0,l),e(3,y)},Z=E=>{e(0,l=l.filter(S=>S!==E))};let ee=!1;const me=E=>{e(3,y=E),T(y)},te=()=>{e(3,y=void 0)},ue=()=>{e(6,ee=!1),y&&Z(y),e(3,y=void 0)},be=()=>e(6,ee=!1),re=()=>e(6,ee=!0);function le(){y.name=this.value,e(3,y)}function Y(){y.h.value=this.value,e(3,y)}function _e(){y.s.value=this.value,e(3,y)}function N(){y.v.value=this.value,e(3,y)}function Ee(E){Ir[E?"unshift":"push"](()=>{g=E,e(5,g)})}function K(){a=this.value,e(1,a)}function ge(){a=this.value,e(1,a)}function ce(){s=this.value,e(2,s)}function z(){s=this.value,e(2,s)}const ye=()=>e(4,v=!v),oe=()=>location.reload();return r.$$.update=()=>{r.$$.dirty[0]&1026&&_&&localStorage.setItem("password_p1",a),r.$$.dirty[0]&1028&&_&&localStorage.setItem("password_p2",s),r.$$.dirty[0]&9&&y&&(e(0,l),e(3,y)),r.$$.dirty[0]&1025&&_&&localStorage.setItem("equations",JSON.stringify(l))},[l,a,s,y,v,g,ee,T,A,Z,_,me,te,ue,be,re,le,Y,_e,N,Ee,K,ge,ce,z,ye,oe]}class Br extends _r{constructor(t){super(),Er(this,t,qr,Ur,gr,{},null,[-1,-1])}}export{Br as default};

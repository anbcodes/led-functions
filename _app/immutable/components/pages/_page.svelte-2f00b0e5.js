import{S as zt,i as Ht,s as Wt,k as i,q as f,a as D,l as u,m as p,r as h,h as a,c as O,n as s,I as Ie,J as St,b as S,G as t,K as G,B as ot,L as jt,M as pt,o as Ft,u as qe,N as we,O as ht,P as Gt}from"../../chunks/index-83d73c50.js";const Be={INVALID:0,SIN:1,ADD:2,SUB:3,MUL:4,DIV:5,POW:6,MOD:7,IF:8,EQ:9,GT:10,LT:11,AND:12,OR:13,VAL:14,VAR_T:15,VAR_I:16,END:17},Jt=Be,Qt=e=>e.split("").map((r,o)=>r==="("?{type:"OPEN_PARAN",rawValue:r,index:o}:r===")"?{type:"CLOSE_PARAN",rawValue:r,index:o}:r===" "?{type:"WHITESPACE",rawValue:r,index:o}:r==="+"?{type:"OPERATOR",operator:"ADD",rawValue:r,index:o}:r==="-"?{type:"OPERATOR",operator:"SUB",rawValue:r,index:o}:r==="*"?{type:"OPERATOR",operator:"MUL",rawValue:r,index:o}:r==="/"?{type:"OPERATOR",operator:"DIV",rawValue:r,index:o}:r==="%"?{type:"OPERATOR",operator:"MOD",rawValue:r,index:o}:r==="^"?{type:"OPERATOR",operator:"POW",rawValue:r,index:o}:r===">"?{type:"OPERATOR",operator:"GT",rawValue:r,index:o}:r==="<"?{type:"OPERATOR",operator:"LT",rawValue:r,index:o}:r==="="?{type:"OPERATOR",operator:"EQ",rawValue:r,index:o}:r===","?{type:"OPERATOR",operator:"SEP",rawValue:r,index:o}:r==="&"?{type:"OPERATOR",operator:"AND",rawValue:r,index:o}:r==="|"?{type:"OPERATOR",operator:"OR",rawValue:r,index:o}:{type:"LITERAL",value:r,rawValue:r,index:o}),qt=[["SEP"],["AND","OR"],["GT","LT","EQ"],["MOD"],["ADD","SUB"],["DIV","MUL"]];class Me extends Error{constructor(r,o){super(r),this.index=o}}const Ze=(e,r)=>{if(e.length===0)throw new Me("Expected an expression",r);for(let d=0;d<qt.length;d++){const c=qt[d];let y=0;for(let m=0;m<e.length;m++){const l=e[m];if(l.type==="OPEN_PARAN"&&(y+=1),l.type==="CLOSE_PARAN"&&(y-=1),l.type==="OPERATOR"&&y==0&&c.includes(l.operator))return{type:"operator",op:l.operator,a:Ze(e.slice(0,m),e[0].index+1),b:Ze(e.slice(m+1),l.index+1),index:l.index}}}let o="",b=-1;for(let d=0;d<e.length;d++){const c=e[d];if(c.type==="LITERAL"&&(o+=c.value,b===-1&&(b=c.index)),c.type==="OPEN_PARAN"){if(e.slice(-1)[0].type!=="CLOSE_PARAN")throw new Me("Unmatched opening parenthesis",c.index);if(o){const y=Ze(e.slice(d+1,-1),c.index),m=[],l=E=>{E.type==="operator"&&E.op==="SEP"?(l(E.a),l(E.b)):m.push(E)};return l(y),{type:"call",name:o,args:m,index:b}}else return Ze(e.slice(d+1,-1),c.index)}}const _=e.find(d=>d.type!=="LITERAL");if(_)throw new Me(`Unexpected token: ${_.rawValue}`,_.index);return o=e.map(d=>d.value).join(""),isNaN(parseInt(o,10))?{type:"variable",name:o,index:e[0].index}:{type:"value",val:parseInt(o,10),index:e[0].index}},Ue=e=>{if(e.type==="call"){if(e.name==="if")return[...Ue(e.args[0]),...Ue(e.args[1]),...Ue(e.args[2]),Be.IF];if(e.name==="sin")return[...Ue(e.args[0]),Be.SIN];throw new Me(`Invalid function: ${e.name}`,e.index)}else if(e.type==="operator"){const r=Jt[e.op];if(r===void 0)throw new Me(`Invalid operator: ${e.op}`,e.index);return[...Ue(e.a),...Ue(e.b),r]}else{if(e.type==="value")return[Be.VAL,e.val];if(e.type==="variable"){if(e.name==="i")return[Be.VAR_I];if(e.name==="t")return[Be.VAR_T];throw new Me(`Unknown variable: ${e.name}`,e.index)}else throw new Error("INVALID TYPE")}},Yt=e=>{try{const r=Qt(e),o=Ze(r.filter(_=>_.type!=="WHITESPACE"),0);return{compiled:Ue(o)}}catch(r){if(r instanceof Me)return{error:`Error: ${r.message}
    ${e}
    ${" ".repeat(r.index)}^`,errorRaw:r};throw r}};function Ut(e,r,o){const b=e.slice();return b[23]=r[o],b[25]=o,b}function Bt(e){let r,o=e[23].name+"",b,_,d,c;function y(){return e[8](e[23])}return{c(){r=i("button"),b=f(o),this.h()},l(m){r=u(m,"BUTTON",{class:!0});var l=p(r);b=h(l,o),l.forEach(a),this.h()},h(){s(r,"class",_="border-gray-800 p-2 mx-2 border-solid border-b "+(e[23]===e[2]?"":"hover:bg-gray-200")+" active:bg-gray-300"),Ie(r,"bg-gray-300",e[23]===e[2]),Ie(r,"border-t",e[25]===0)},m(m,l){S(m,r,l),t(r,b),d||(c=G(r,"click",y),d=!0)},p(m,l){e=m,l&1&&o!==(o=e[23].name+"")&&qe(b,o),l&5&&_!==(_="border-gray-800 p-2 mx-2 border-solid border-b "+(e[23]===e[2]?"":"hover:bg-gray-200")+" active:bg-gray-300")&&s(r,"class",_),l&5&&Ie(r,"bg-gray-300",e[23]===e[2]),l&5&&Ie(r,"border-t",e[25]===0)},d(m){m&&a(r),d=!1,c()}}}function Mt(e){let r,o,b,_,d,c,y,m,l,E,L,oe,T,V,W,ae,g=e[2].h.value+"",X,ue,te,J=e[2].h.error+"",le,ce,U,Z,n,w,j,F,$,ee=e[2].s.value+"",z,P,fe,re=e[2].s.error+"",be,Ae,Q,ne,De,C,Oe,he,pe=e[2].v.error+"",q,Te,Y,Pe,de=e[2].v.value+"",se,Re,ze;function Ee(I,A){return I[4]?Xt:Kt}let _e=Ee(e),H=_e(e);return{c(){r=i("div"),o=i("button"),b=f("Back"),_=D(),d=i("div"),H.c(),c=D(),y=i("input"),m=D(),l=i("div"),E=i("div"),L=i("label"),oe=f("h = "),T=i("input"),V=D(),W=i("pre"),ae=f("    "),X=f(g),ue=D(),te=i("pre"),le=f(J),ce=D(),U=i("div"),Z=i("label"),n=f("s = "),w=i("input"),j=D(),F=i("pre"),$=f("    "),z=f(ee),P=D(),fe=i("pre"),be=f(re),Ae=D(),Q=i("div"),ne=i("label"),De=f("v = "),C=i("input"),Oe=D(),he=i("pre"),q=f(pe),Te=D(),Y=i("pre"),Pe=f("    "),se=f(de),this.h()},l(I){r=u(I,"DIV",{class:!0});var A=p(r);o=u(A,"BUTTON",{class:!0});var He=p(o);b=h(He,"Back"),He.forEach(a),_=O(A),d=u(A,"DIV",{class:!0});var We=p(d);H.l(We),We.forEach(a),A.forEach(a),c=O(I),y=u(I,"INPUT",{type:!0,class:!0}),m=O(I),l=u(I,"DIV",{class:!0});var R=p(l);E=u(R,"DIV",{class:!0});var Ve=p(E);L=u(Ve,"LABEL",{for:!0});var je=p(L);oe=h(je,"h = "),je.forEach(a),T=u(Ve,"INPUT",{name:!0,class:!0,type:!0,autocomplete:!0,autocorrect:!0,autocapitalize:!0,spellcheck:!0}),Ve.forEach(a),V=O(R),W=u(R,"PRE",{class:!0});var K=p(W);ae=h(K,"    "),X=h(K,g),K.forEach(a),ue=O(R),te=u(R,"PRE",{});var Fe=p(te);le=h(Fe,J),Fe.forEach(a),ce=O(R),U=u(R,"DIV",{class:!0});var ve=p(U);Z=u(ve,"LABEL",{for:!0});var Ge=p(Z);n=h(Ge,"s = "),Ge.forEach(a),w=u(ve,"INPUT",{name:!0,class:!0,type:!0,autocomplete:!0,autocorrect:!0,autocapitalize:!0,spellcheck:!0}),ve.forEach(a),j=O(R),F=u(R,"PRE",{class:!0});var Le=p(F);$=h(Le,"    "),z=h(Le,ee),Le.forEach(a),P=O(R),fe=u(R,"PRE",{});var ge=p(fe);be=h(ge,re),ge.forEach(a),Ae=O(R),Q=u(R,"DIV",{class:!0});var Ce=p(Q);ne=u(Ce,"LABEL",{for:!0});var Je=p(ne);De=h(Je,"v = "),Je.forEach(a),C=u(Ce,"INPUT",{name:!0,class:!0,type:!0,autocomplete:!0,autocorrect:!0,autocapitalize:!0,spellcheck:!0}),Ce.forEach(a),Oe=O(R),he=u(R,"PRE",{});var Qe=p(he);q=h(Qe,pe),Qe.forEach(a),Te=O(R),Y=u(R,"PRE",{class:!0});var me=p(Y);Pe=h(me,"    "),se=h(me,de),me.forEach(a),R.forEach(a),this.h()},h(){s(o,"class","text-base md:hidden rounded border-gray-800 border-solid border py-1 px-3 mb-4 hover:bg-gray-200 active:bg-gray-300"),s(d,"class","flex md:flex-row-reverse"),s(r,"class","flex justify-between"),s(y,"type","text"),s(y,"class","focus:outline-none text-2xl w-full py-3"),s(L,"for","h"),s(T,"name","h"),s(T,"class","pl-4 font-mono focus:outline-none w-full"),s(T,"type","text"),s(T,"autocomplete","off"),s(T,"autocorrect","off"),s(T,"autocapitalize","off"),s(T,"spellcheck","false"),s(E,"class","flex whitespace-nowrap py-2"),s(W,"class","h-0 invisible"),s(Z,"for","s"),s(w,"name","s"),s(w,"class","pl-4 font-mono focus:outline-none w-full"),s(w,"type","text"),s(w,"autocomplete","off"),s(w,"autocorrect","off"),s(w,"autocapitalize","off"),s(w,"spellcheck","false"),s(U,"class","flex whitespace-nowrap py-2"),s(F,"class","h-0 invisible"),s(ne,"for","v"),s(C,"name","v"),s(C,"class","pl-4 font-mono focus:outline-none w-full"),s(C,"type","text"),s(C,"autocomplete","off"),s(C,"autocorrect","off"),s(C,"autocapitalize","off"),s(C,"spellcheck","false"),s(Q,"class","flex whitespace-nowrap py-2"),s(Y,"class","h-0 invisible"),s(l,"class","pl-10")},m(I,A){S(I,r,A),t(r,o),t(o,b),t(r,_),t(r,d),H.m(d,null),S(I,c,A),S(I,y,A),we(y,e[2].name),S(I,m,A),S(I,l,A),t(l,E),t(E,L),t(L,oe),t(E,T),we(T,e[2].h.value),t(l,V),t(l,W),t(W,ae),t(W,X),t(l,ue),t(l,te),t(te,le),t(l,ce),t(l,U),t(U,Z),t(Z,n),t(U,w),we(w,e[2].s.value),t(l,j),t(l,F),t(F,$),t(F,z),t(l,P),t(l,fe),t(fe,be),t(l,Ae),t(l,Q),t(Q,ne),t(ne,De),t(Q,C),we(C,e[2].v.value),t(l,Oe),t(l,he),t(he,q),t(l,Te),t(l,Y),t(Y,Pe),t(Y,se),Re||(ze=[G(o,"click",e[9]),G(y,"input",e[13]),G(T,"input",e[14]),G(T,"input",function(){ht(e[2].h.onChange)&&e[2].h.onChange.apply(this,arguments)}),G(w,"input",e[15]),G(w,"input",function(){ht(e[2].s.onChange)&&e[2].s.onChange.apply(this,arguments)}),G(C,"input",e[16]),G(C,"input",function(){ht(e[2].v.onChange)&&e[2].v.onChange.apply(this,arguments)})],Re=!0)},p(I,A){e=I,_e===(_e=Ee(e))&&H?H.p(e,A):(H.d(1),H=_e(e),H&&(H.c(),H.m(d,null))),A&4&&y.value!==e[2].name&&we(y,e[2].name),A&4&&T.value!==e[2].h.value&&we(T,e[2].h.value),A&4&&g!==(g=e[2].h.value+"")&&qe(X,g),A&4&&J!==(J=e[2].h.error+"")&&qe(le,J),A&4&&w.value!==e[2].s.value&&we(w,e[2].s.value),A&4&&ee!==(ee=e[2].s.value+"")&&qe(z,ee),A&4&&re!==(re=e[2].s.error+"")&&qe(be,re),A&4&&C.value!==e[2].v.value&&we(C,e[2].v.value),A&4&&pe!==(pe=e[2].v.error+"")&&qe(q,pe),A&4&&de!==(de=e[2].v.value+"")&&qe(se,de)},d(I){I&&a(r),H.d(),I&&a(c),I&&a(y),I&&a(m),I&&a(l),Re=!1,pt(ze)}}}function Kt(e){let r,o,b,_;return{c(){r=i("button"),o=f("Delete"),this.h()},l(d){r=u(d,"BUTTON",{class:!0});var c=p(r);o=h(c,"Delete"),c.forEach(a),this.h()},h(){s(r,"class","text-base rounded border-gray-800 border-solid border py-1 px-3 mb-4 hover:bg-gray-200 active:bg-gray-300")},m(d,c){S(d,r,c),t(r,o),b||(_=G(r,"click",e[12]),b=!0)},p:ot,d(d){d&&a(r),b=!1,_()}}}function Xt(e){let r,o,b,_,d,c,y;return{c(){r=i("button"),o=f("Confirm Delete"),b=D(),_=i("button"),d=f("Cancel Delete"),this.h()},l(m){r=u(m,"BUTTON",{class:!0});var l=p(r);o=h(l,"Confirm Delete"),l.forEach(a),b=O(m),_=u(m,"BUTTON",{class:!0});var E=p(_);d=h(E,"Cancel Delete"),E.forEach(a),this.h()},h(){s(r,"class","text-base rounded border-green-800 text-green-800 border-solid border py-1 px-3 mb-4 mx-2 hover:bg-gray-200 active:bg-gray-300"),s(_,"class","text-base rounded border-red-800 text-red-800 border-solid border py-1 px-3 mb-4 mx-2 hover:bg-gray-200 active:bg-gray-300")},m(m,l){S(m,r,l),t(r,o),S(m,b,l),S(m,_,l),t(_,d),c||(y=[G(r,"click",e[10]),G(_,"click",e[11])],c=!0)},p:ot,d(m){m&&a(r),m&&a(b),m&&a(_),c=!1,pt(y)}}}function Zt(e){let r,o,b,_,d,c,y,m,l,E,L,oe,T,V,W,ae,g,X,ue,te,J,le,ce,U,Z,n,w,j,F,$,ee,z,P,fe,re,be,Ae,Q,ne,De,C,Oe,he,pe,q,Te,Y,Pe,de,se,Re,ze,Ee,_e,H,I,A,He,We,R,Ve,je,K,Fe,ve,Ge,Le,ge,Ce,Je,Qe,me,at,lt,ke,nt,Ye,st,it,$e,Ne,xe,ut,ct,dt,Ke=e[0],B=[];for(let v=0;v<Ke.length;v+=1)B[v]=Bt(Ut(e,Ke,v));let M=e[2]&&Mt(e);return{c(){r=i("header"),o=i("h1"),b=f("LEDS"),_=D(),d=i("div"),c=i("div");for(let v=0;v<B.length;v+=1)B[v].c();y=D(),m=i("button"),l=f("Add equation"),E=D(),L=i("div"),M&&M.c(),oe=D(),T=i("div"),V=i("iframe"),ae=D(),g=i("div"),X=i("h1"),ue=f("Usage"),te=D(),J=i("p"),le=f('Add sets of equations using the "Add Equation" button.'),ce=D(),U=i("p"),Z=f(`Each set of equations contains an "h" equation, an "s" equation, and a "v" equation. Each
		equation corresponds to each part of the `),n=i("a"),w=f("HSV color"),j=f(" of the LED."),F=D(),$=i("p"),ee=f(`Each equation is run every frame for every LED on the led strip, which allows you to create a
		LED pattern by using the equations.`),z=D(),P=i("p"),fe=f("The equations look like normal math equations, for example, setting "),re=i("code"),be=f("h = i + t"),Ae=f(` and
		`),Q=i("code"),ne=f("s = 255"),De=f(`
		and `),C=i("code"),Oe=f("v = 90"),he=f(" will create a rainbow pattern across the led strip."),pe=D(),q=i("p"),Te=f(`All numbers are integers and the values sent to the LEDs are mod 256 of the result of the
		equations. You can access two variables: `),Y=i("code"),Pe=f("i"),de=f(" and "),se=i("code"),Re=f("t"),ze=f(". "),Ee=i("code"),_e=f("i"),H=f(` is
		the index of the LED and `),I=i("code"),A=f("t"),He=f(" is the current frame, which increments by 1 every frame."),We=D(),R=i("p"),Ve=f(`I attempted to have expressions evaluated according to the order of operations, but I don't
		think I got it quite working, so I recommend using parenthesis if something doesn't seem right.`),je=D(),K=i("p"),Fe=f("There are two functions that you can use. The first one is "),ve=i("code"),Ge=f(`if([expr], [if not 0], [if 0])
		`),Le=f(", which should be self-explanatory. The other one is "),ge=i("code"),Ce=f("sin([value])"),Je=f(`, which
		computes the sin of a value, but a full cycle is 0-255 instead of 0-2pi.`),Qe=D(),me=i("p"),at=f(`The video is a live stream of my LED lights running whatever equations are written here. If too
		many people use this, it could get crazy. When you type in an equation, it is automatically sent
		to the LED strip.`),lt=D(),ke=i("p"),nt=f(`This was a random project that I wanted to try. I'll probably set a password on it at some
		point, but I thought I'd let the whole world try it out first. It probably has a lot of bugs and
		I'm not planning to fix them all. I also wrote a `),Ye=i("a"),st=f("blog post"),it=f(" explaining how everything works."),$e=D(),Ne=i("div"),xe=i("button"),ut=f("Reload Page"),this.h()},l(v){r=u(v,"HEADER",{class:!0});var N=p(r);o=u(N,"H1",{class:!0});var x=p(o);b=h(x,"LEDS"),x.forEach(a),N.forEach(a),_=O(v),d=u(v,"DIV",{class:!0});var Se=p(d);c=u(Se,"DIV",{class:!0});var et=p(c);for(let ft=0;ft<B.length;ft+=1)B[ft].l(et);y=O(et),m=u(et,"BUTTON",{class:!0});var vt=p(m);l=h(vt,"Add equation"),vt.forEach(a),et.forEach(a),E=O(Se),L=u(Se,"DIV",{class:!0});var mt=p(L);M&&M.l(mt),mt.forEach(a),Se.forEach(a),oe=O(v),T=u(v,"DIV",{});var bt=p(T);V=u(bt,"IFRAME",{title:!0,src:!0,frameborder:!0,scrolling:!0,class:!0}),p(V).forEach(a),bt.forEach(a),ae=O(v),g=u(v,"DIV",{class:!0});var k=p(g);X=u(k,"H1",{});var Et=p(X);ue=h(Et,"Usage"),Et.forEach(a),te=O(k),J=u(k,"P",{});var _t=p(J);le=h(_t,'Add sets of equations using the "Add Equation" button.'),_t.forEach(a),ce=O(k),U=u(k,"P",{});var tt=p(U);Z=h(tt,`Each set of equations contains an "h" equation, an "s" equation, and a "v" equation. Each
		equation corresponds to each part of the `),n=u(tt,"A",{href:!0});var gt=p(n);w=h(gt,"HSV color"),gt.forEach(a),j=h(tt," of the LED."),tt.forEach(a),F=O(k),$=u(k,"P",{});var yt=p($);ee=h(yt,`Each equation is run every frame for every LED on the led strip, which allows you to create a
		LED pattern by using the equations.`),yt.forEach(a),z=O(k),P=u(k,"P",{});var ye=p(P);fe=h(ye,"The equations look like normal math equations, for example, setting "),re=u(ye,"CODE",{});var wt=p(re);be=h(wt,"h = i + t"),wt.forEach(a),Ae=h(ye,` and
		`),Q=u(ye,"CODE",{});var It=p(Q);ne=h(It,"s = 255"),It.forEach(a),De=h(ye,`
		and `),C=u(ye,"CODE",{});var At=p(C);Oe=h(At,"v = 90"),At.forEach(a),he=h(ye," will create a rainbow pattern across the led strip."),ye.forEach(a),pe=O(k),q=u(k,"P",{});var ie=p(q);Te=h(ie,`All numbers are integers and the values sent to the LEDs are mod 256 of the result of the
		equations. You can access two variables: `),Y=u(ie,"CODE",{});var Dt=p(Y);Pe=h(Dt,"i"),Dt.forEach(a),de=h(ie," and "),se=u(ie,"CODE",{});var Ot=p(se);Re=h(Ot,"t"),Ot.forEach(a),ze=h(ie,". "),Ee=u(ie,"CODE",{});var Tt=p(Ee);_e=h(Tt,"i"),Tt.forEach(a),H=h(ie,` is
		the index of the LED and `),I=u(ie,"CODE",{});var Pt=p(I);A=h(Pt,"t"),Pt.forEach(a),He=h(ie," is the current frame, which increments by 1 every frame."),ie.forEach(a),We=O(k),R=u(k,"P",{});var Rt=p(R);Ve=h(Rt,`I attempted to have expressions evaluated according to the order of operations, but I don't
		think I got it quite working, so I recommend using parenthesis if something doesn't seem right.`),Rt.forEach(a),je=O(k),K=u(k,"P",{});var Xe=p(K);Fe=h(Xe,"There are two functions that you can use. The first one is "),ve=u(Xe,"CODE",{});var Vt=p(ve);Ge=h(Vt,`if([expr], [if not 0], [if 0])
		`),Vt.forEach(a),Le=h(Xe,", which should be self-explanatory. The other one is "),ge=u(Xe,"CODE",{});var Lt=p(ge);Ce=h(Lt,"sin([value])"),Lt.forEach(a),Je=h(Xe,`, which
		computes the sin of a value, but a full cycle is 0-255 instead of 0-2pi.`),Xe.forEach(a),Qe=O(k),me=u(k,"P",{});var Ct=p(me);at=h(Ct,`The video is a live stream of my LED lights running whatever equations are written here. If too
		many people use this, it could get crazy. When you type in an equation, it is automatically sent
		to the LED strip.`),Ct.forEach(a),lt=O(k),ke=u(k,"P",{});var rt=p(ke);nt=h(rt,`This was a random project that I wanted to try. I'll probably set a password on it at some
		point, but I thought I'd let the whole world try it out first. It probably has a lot of bugs and
		I'm not planning to fix them all. I also wrote a `),Ye=u(rt,"A",{href:!0});var kt=p(Ye);st=h(kt,"blog post"),kt.forEach(a),it=h(rt," explaining how everything works."),rt.forEach(a),k.forEach(a),$e=O(v),Ne=u(v,"DIV",{class:!0});var Nt=p(Ne);xe=u(Nt,"BUTTON",{class:!0});var xt=p(xe);ut=h(xt,"Reload Page"),xt.forEach(a),Nt.forEach(a),this.h()},h(){s(o,"class","text-5xl "),s(r,"class","pb-10 p-5"),s(m,"class","mt-14 rounded border-gray-800 border-solid border py-4 hover:bg-gray-200 active:bg-gray-300"),s(c,"class","md:flex flex-col flex-shrink-0 text-2xl w-full md:w-[300px] md:border-r border-gray-800 border-solid pr-4"),Ie(c,"hidden",e[2]),Ie(c,"flex",!e[2]),s(L,"class","pl-5 flex-grow"),s(d,"class","p-4 font-sans flex"),s(V,"title","stream"),St(V.src,W="https://player.twitch.tv/?channel=anbcodes&parent="+(e[1]?window.location.hostname:"leds.anb.codes"))||s(V,"src",W),s(V,"frameborder","0"),V.allowFullscreen=!0,s(V,"scrolling","no"),s(V,"class","w-full"),s(n,"href","https://en.wikipedia.org/wiki/HSL_and_HSV"),s(Ye,"href","https://anb.codes/2022/led-equations"),s(g,"class","p-4 mt-20 prose"),s(xe,"class","text-1xl mt-20 rounded border-gray-800 border-solid border w-36 py-2 hover:bg-gray-200 active:bg-gray-300"),s(Ne,"class","p-4 flex flex-col")},m(v,N){S(v,r,N),t(r,o),t(o,b),S(v,_,N),S(v,d,N),t(d,c);for(let x=0;x<B.length;x+=1)B[x].m(c,null);t(c,y),t(c,m),t(m,l),t(d,E),t(d,L),M&&M.m(L,null),S(v,oe,N),S(v,T,N),t(T,V),e[17](V),S(v,ae,N),S(v,g,N),t(g,X),t(X,ue),t(g,te),t(g,J),t(J,le),t(g,ce),t(g,U),t(U,Z),t(U,n),t(n,w),t(U,j),t(g,F),t(g,$),t($,ee),t(g,z),t(g,P),t(P,fe),t(P,re),t(re,be),t(P,Ae),t(P,Q),t(Q,ne),t(P,De),t(P,C),t(C,Oe),t(P,he),t(g,pe),t(g,q),t(q,Te),t(q,Y),t(Y,Pe),t(q,de),t(q,se),t(se,Re),t(q,ze),t(q,Ee),t(Ee,_e),t(q,H),t(q,I),t(I,A),t(q,He),t(g,We),t(g,R),t(R,Ve),t(g,je),t(g,K),t(K,Fe),t(K,ve),t(ve,Ge),t(K,Le),t(K,ge),t(ge,Ce),t(K,Je),t(g,Qe),t(g,me),t(me,at),t(g,lt),t(g,ke),t(ke,nt),t(ke,Ye),t(Ye,st),t(ke,it),S(v,$e,N),S(v,Ne,N),t(Ne,xe),t(xe,ut),ct||(dt=[G(m,"click",e[6]),G(xe,"click",e[18])],ct=!0)},p(v,[N]){if(N&37){Ke=v[0];let x;for(x=0;x<Ke.length;x+=1){const Se=Ut(v,Ke,x);B[x]?B[x].p(Se,N):(B[x]=Bt(Se),B[x].c(),B[x].m(c,y))}for(;x<B.length;x+=1)B[x].d(1);B.length=Ke.length}N&4&&Ie(c,"hidden",v[2]),N&4&&Ie(c,"flex",!v[2]),v[2]?M?M.p(v,N):(M=Mt(v),M.c(),M.m(L,null)):M&&(M.d(1),M=null),N&2&&!St(V.src,W="https://player.twitch.tv/?channel=anbcodes&parent="+(v[1]?window.location.hostname:"leds.anb.codes"))&&s(V,"src",W)},i:ot,o:ot,d(v){v&&a(r),v&&a(_),v&&a(d),jt(B,v),M&&M.d(),v&&a(oe),v&&a(T),e[17](null),v&&a(ae),v&&a(g),v&&a($e),v&&a(Ne),ct=!1,pt(dt)}}}function $t(e,r,o){let b=[],_=!1,d=!1,c;Ft(()=>{c&&o(3,c.height=`${Math.min(600,c.clientWidth/16*9)}`,c),addEventListener("resize",()=>{c&&o(3,c.height=`${Math.min(600,c.clientWidth/16*9)}`,c)}),o(0,b=JSON.parse(localStorage.getItem("equations")||"[]")),b.forEach(n=>{n.h.onChange=L(n.h,n),n.s.onChange=L(n.s,n),n.v.onChange=L(n.v,n),n.h.onChange(),n.s.onChange(),n.v.onChange()}),d=!0,o(1,_=!0),setTimeout(()=>{document.querySelectorAll("input").forEach(n=>{n.style.width=Math.max(n.value.length+5,10)+"ch"})})});let y=!1,m;const l=(n,w=!0)=>{if(!d||n.h.error||n.s.error||n.v.error)return;y&&(m&&clearInterval(m),m=setInterval(()=>{y||(l(n,w),clearInterval(m))},1));const j=new Uint32Array(n.h.compiledValue),F=new Uint32Array(n.s.compiledValue),$=new Uint32Array(n.v.compiledValue),ee=new Uint32Array([+w]),z=new Uint32Array([Be.END,0]),P=new WebSocket("wss://home.anb.codes:13655");y=!0,P.addEventListener("open",()=>{console.log("Sending..."),P.send(ee.buffer),console.log(ee),P.send(j.buffer),console.log(j),P.send(z.buffer),console.log(z),P.send(F.buffer),console.log(F),P.send(z.buffer),console.log(z),P.send($.buffer),console.log($),P.send(z.buffer),console.log(z)}),P.addEventListener("close",()=>{y=!1,console.log("closed")})};let E;const L=(n,w)=>()=>{const j=Yt(n.value);j.error?n.error=j.error:(n.error="",n.compiledValue=j.compiled),l(w),o(0,b),o(2,E)},oe=()=>{const n={h:{value:"",compiledValue:[],onChange:()=>{},error:""},s:{value:"",compiledValue:[],onChange:()=>{},error:""},v:{value:"",compiledValue:[],onChange:()=>{},error:""},name:"New Equation",open:!0};n.h.onChange=L(n.h,n),n.s.onChange=L(n.s,n),n.v.onChange=L(n.v,n),n.h.onChange(),n.s.onChange(),n.v.onChange(),b.forEach(w=>w.open=!1),b.push(n),o(0,b),o(2,E)},T=n=>{o(0,b=b.filter(w=>w!==n))};let V=!1;const W=n=>{o(2,E=n),l(E)},ae=()=>{o(2,E=void 0)},g=()=>{o(4,V=!1),E&&T(E),o(2,E=void 0)},X=()=>o(4,V=!1),ue=()=>o(4,V=!0);function te(){E.name=this.value,o(2,E)}function J(){E.h.value=this.value,o(2,E)}function le(){E.s.value=this.value,o(2,E)}function ce(){E.v.value=this.value,o(2,E)}function U(n){Gt[n?"unshift":"push"](()=>{c=n,o(3,c)})}const Z=()=>location.reload();return e.$$.update=()=>{e.$$.dirty&5&&E&&(o(0,b),o(2,E)),e.$$.dirty&3&&_&&localStorage.setItem("equations",JSON.stringify(b))},[b,_,E,c,V,l,oe,T,W,ae,g,X,ue,te,J,le,ce,U,Z]}class tr extends zt{constructor(r){super(),Ht(this,r,$t,Zt,Wt,{})}}export{tr as default};
